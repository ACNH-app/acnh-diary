# 아이패드/모바일 UI 최적화 계획서

- 작성일: 2026-02-15
- 대상: `FastAPI + SPA(static)`
- 범위: 아이패드 세로(기본), 모바일(좁은 화면) 우선 UX 개선

## 1. 목표

1. 아이패드 세로 해상도에서 기본 화면이 자연스럽게 보이도록 레이아웃 표준화
2. 모바일에서 네비게이션/필터/모달 조작을 터치 중심으로 단순화
3. 목록 화면 체감 속도(첫 렌더, 스크롤, 상세 진입)를 개선
4. 향후 카테고리 확장(생물도감/레시피/가이드) 시 UI 복잡도 증가를 억제

## 2. 현재 이슈 요약

1. 상단 네비게이션이 모바일에서 정보량 대비 조작 경로가 길다
2. 필터/정렬/검색이 화면을 많이 차지해 목록 가시성이 떨어진다
3. 상세 모달이 작은 화면에서 상대적으로 답답하고 전환이 느리게 느껴진다
4. 카드 레이아웃이 기기 폭별로 일관된 우선순위를 유지하지 못한다

## 3. 레이아웃 원칙

### 화면 기준

1. 아이패드 세로 기준 폭: `768px` 전후를 1차 타깃
2. 모바일 기준 폭: `390px` 전후를 2차 타깃
3. 공통 최대 컨테이너 폭: `900px` 내에서 중앙 정렬

### 섹션 우선순위

1. 홈: 시간/오늘 일정/캘린더를 상단 고정 우선
2. 목록형 탭(주민/카탈로그/도감): 검색 -> 목록 -> 상세 순으로 단순화
3. 설정/편집: 모달 내부에서만 수정, 본문은 조회 중심

## 4. 컴포넌트별 개선안

### 4.1 네비게이션

1. 1차 메뉴는 한 줄 유지, 모바일에서는 햄버거 + 아코디언 서브메뉴
2. `hover` 의존 제거, 모바일은 `tap`으로 열고 닫기
3. 현재 위치를 `브레드크럼` 형태로 표시: 예) `카탈로그 > 가구`
4. `기타`는 placeholder 그룹으로 유지하되 콘텐츠 없음을 명시

### 4.2 검색/필터/정렬

1. 상단 고정 영역에는 검색 1개만 노출
2. 필터/정렬은 `하단 시트(Bottom Sheet)`로 분리
3. 적용/초기화 버튼을 하단 고정해 한 손 조작 가능하게 배치
4. 결과 수(`N개`)는 시트 외부 요약으로 항상 표시

### 4.3 카드/리스트

1. 아이패드: 2~3열, 모바일: 2열(최소 카드 폭 보장)
2. 카드 기본 정보는 `이름 + 핵심 상태`만 노출
3. 부가정보는 상세에서 확인하도록 축소
4. 보유 상태는 3단계 아이콘 통일
- 전체 보유
- 일부 보유
- 미보유

### 4.4 상세 뷰

1. 모바일은 중앙 모달 대신 `풀스크린 드로어` 우선
2. 이전/다음 버튼 하단 고정
3. 상세 이미지 영역 고정 비율 + skeleton 로딩 적용
4. 닫기/뒤로가기 동작 일관화(Escape, 배경 탭, 상단 버튼)

### 4.5 캘린더

1. 월 헤더 중앙 정렬 유지 + 좌우 이동 버튼 터치 영역 확대
2. 날짜 셀 안 이벤트/NPC 뱃지는 2줄 제한 + 말줄임
3. 셀 외부 overflow 금지
4. 이벤트 상세는 우측 패널 대신 하단 시트로 통일(모바일)

## 5. 반응형 브레이크포인트 제안

1. `<= 1024px`: 아이패드 최적화 규칙 적용
2. `<= 768px`: 모바일 탐색 규칙 적용
3. `<= 480px`: 초소형 화면 폰트/간격 축소

## 6. 성능 최적화 항목(UI 관점)

1. 이미지 lazy-loading 강제(`loading="lazy"`)
2. 목록 초기 렌더 개수 제한 + 더보기 유지
3. 상세 데이터/이미지 prefetch는 "다음/이전 후보 1개"만 수행
4. 모달 열기 직전 DOM 전체 재렌더를 피하고 부분 갱신 사용
5. 스크롤 이벤트 처리에 `requestAnimationFrame` 또는 throttle 적용

## 7. 접근성/터치 규칙

1. 클릭 가능한 요소 최소 크기 `44px`
2. 포커스 스타일 유지(키보드/스크린리더 대응)
3. 색상만으로 상태 전달 금지(아이콘/텍스트 병행)
4. 모달 오픈 시 포커스 트랩 유지, 닫을 때 원래 포커스 복귀

## 8. 파일 단위 구현 계획

### 1단계: 레이아웃 토큰/브레이크포인트 정리

1. `static/styles.css`
- 브레이크포인트/간격/폰트 크기 토큰 추가
- 카드/네비/모달 공통 규칙 정리

2. `static/index.html`
- 네비/필터/모달의 접근성 속성 보강(`aria-*`)

### 2단계: 네비게이션 모바일 동작 강화

1. `static/js/render.js`
- 모바일 아코디언 열림/닫힘 상태 관리 단일화
- 활성 메뉴 브레드크럼 렌더 추가

2. `static/js/state.js`
- 네비 확장 상태/현재 경로 상태 구조 명시화

### 3단계: 필터/정렬 Bottom Sheet 도입

1. `static/index.html`
- 시트 컨테이너 DOM 추가

2. `static/js/events.js`
- 열기/닫기/적용/초기화 이벤트 통합

3. `static/js/render.js`
- 요약 상태(적용된 필터/정렬) 배지 렌더

### 4단계: 상세 뷰 모바일 풀스크린 전환

1. `static/styles.css`
- `@media <= 768px`에서 상세 모달 풀스크린 규칙

2. `static/js/detail.js`
- 상세 내 이전/다음/닫기 버튼 레이아웃 정리

### 5단계: 캘린더 표시 안정화

1. `static/js/home.js`
- 셀 내 이벤트 표시 개수 제한 + `+N` 처리

2. `static/styles.css`
- 날짜 셀 overflow/라인 높이/배지 규격 통일

## 9. QA 체크리스트

1. 아이패드 세로에서 상단 네비 줄바꿈 없이 동작하는가
2. 모바일에서 서브메뉴가 탭만으로 열리고 닫히는가
3. 필터/정렬 적용 후 목록이 즉시 갱신되고 스크롤 위치가 자연스러운가
4. 상세 모달에서 이전/다음 전환이 끊김 없이 동작하는가
5. 캘린더 이벤트 텍스트가 셀을 벗어나지 않는가
6. 보유 상태(전체/일부/미보유)가 카드에서 즉시 식별 가능한가

## 10. 구현 우선순위

1. 네비 모바일 동작 + 레이아웃 브레이크포인트
2. 카드/상세(풀스크린) 정리
3. 필터/정렬 Bottom Sheet
4. 캘린더 뱃지/이벤트 표시 개선
5. 성능 미세 튜닝

## 11. 완료 기준(Definition of Done)

1. 아이패드/모바일에서 핵심 흐름(탐색 -> 검색/필터 -> 상세 -> 체크)이 3탭 이내로 완료
2. 첫 화면에서 가로 스크롤이 발생하지 않음
3. 주요 조작 버튼 터치 미스율이 줄어드는 수준의 클릭 영역 확보
4. 모바일에서 서브메뉴/모달/필터 시트가 겹치거나 잘리지 않음
